{% extends "base/index_model.html" %}
{% block head %}
    <!-- BEGIN PAGE LEVEL STYLES -->

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='dist-sub/css/select2_metro.css') }}" />

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='dist-sub/css/chosen.css') }}" />

    <!-- END PAGE LEVEL STYLES -->
{% endblock %}
{% block content %}
    <div class="row-fluid">

        <div class="form-vertical" style="margin-bottom:25px;">
            <button class="btn green" id="getSrcApk" type="button">获取可用APK</button>
            <button class="btn red" id="hidden" type="button">隐藏列表</button>
            <button class="btn blue" id="show" type="button">显示列表</button>
        </div>

    </div>
    <div class="row-fluid">
        <form id="form_select" name="form_sample_2" class="form-horizontal" hidden="hidden" novalidate="novalidate">
            <div class="control-group">
                <label class="control-label">
                    请选择母包
                    <span class="required">*</span>
                </label>
                <div class="controls select2-wrapper">
                    <select id="form_2_select2" class="span6 select2-offscreen" name="option" tabindex="-1">
                        <option value=""></option>
                    </select>
                </div>
            </div>
        </form>
    </div>
{% endblock %}
{% block jsplugin %}
    <!-- BEGIN PAGE LEVEL PLUGINS -->

    <script type="text/javascript" src="{{ url_for('static', filename='dist-sub/js/select2.min.js') }}"></script>

    <script type="text/javascript" src="{{ url_for('static', filename='dist-sub/js/additional-methods.min.js') }}"></script>

    <script type="text/javascript" src="{{ url_for('static', filename='dist-sub/js/jquery.validate.min.js') }}"></script>

    <script type="text/javascript" src="{{ url_for('static', filename='dist-sub/js/chosen.jquery.min.js') }}"></script>

	<!-- END PAGE LEVEL PLUGINS -->

	<!-- BEGIN PAGE LEVEL STYLES -->

    <script type="text/javascript" src="{{ url_for('static', filename='dist-sub/js/app.js') }}"></script>

    <script type="text/javascript" src="{{ url_for('static', filename='dist-sub/js/form-validation.js') }}"></script>

	<!-- END PAGE LEVEL STYLES -->

	<script>

		jQuery(document).ready(function() {

		   // initiate layout and plugins

		   App.init();

           FormValidation.init();

                    $('#getSrcApk').click(function(){
                        var path_url = window.location.pathname;
                        $.ajax({
                            url: path_url,
                            data: {'getInfo':'1', 'obtainSrcApk':'1'},
                            dataType: 'JSON',
                            type: 'GET',
                            success: function(data, status) {
                                console.log(data.data);
                                var item = $('#form_2_select2');
                                item.empty();
                                item.append('<option value=""></option>');
                                $.each(data.data, function(){
                                    item.append('<option value="' + this + '">' + this + '</option>');
                                });
                                $('#form_select').show(500);
                            },
                            error: function(error) {
                                console.log(error);
                            }
                        });
                    });
                    $('#hidden').click(function(){
                            if($('#form_select').is(':visible')) {
                                $('#form_select').hide(500);
                            }
                    });
                    $('#show').click(function(){
                            if($('#form_select').is(':hidden')) {
                                $('#form_select').show(500);
                            }
                    });
		});

        function date1() {
            alert($('.select2-choice span').text());
        }

    </script>
{% endblock %}
